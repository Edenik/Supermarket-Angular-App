<div fxLayout="row" dir="rtl" fxLayoutAlign="space-between none">

    <div fxFlex="15" *ngIf="innerWidth>=820">
        <app-categories-sidenav> </app-categories-sidenav>
    </div>

    <div fxFlex *ngIf="loading" class="text-center" style="margin-top: 100px;">
        <mdb-spinner spinnerType="big"></mdb-spinner>
    </div>

    <div fxFlex *ngIf="!serverError && !loading">
        <!-- <h2 class="text-center" style="margin-top: 30px;">:מוצרים במבצע</h2>


        <div fxLayout="row wrap" fxLayoutAlign="space-evenly center">
            <app-product [product]="product" *ngFor="let product of inSaleProducts"></app-product>
        </div>


        <h2 class="text-center" style="margin-top: 30px;">:מוצרים עם סימון תזונתי</h2>


        <div fxLayout="row wrap" fxLayoutAlign="space-evenly center">
            <app-product [product]="product" *ngFor="let product of hasNutritialMark"></app-product>
        </div> -->


        <h2 class="text-center" style="margin-top: 30px;">מוצרים:</h2>

        <div fxLayout="row" fxLayoutAlign="space-evenly center">
            <div class="md-form" style="width: 40%;">
                <input mdbInput type="text" #searchProduct class="form-control" (keyup)="search(searchProduct.value)">
                <label for="searchProduct" class="">חיפוש מוצר</label>
            </div>
        </div>

        <div fxLayout="row" dir="rtl" fxLayoutAlign="space-evenly none" style="margin-bottom: 30px;">

            <div class="filter" fxFlex="40">
                <mdb-select-2 [multiple]="true" placeholder="בחר קטגוריה" label="סינון מוצרים"
                    (ngModelChange)="filterByCategories($event)" [ngModel]="selectedValue">
                    <mdb-select-all-option>בחר הכל</mdb-select-all-option>
                    <mdb-select-option *ngFor="let option of subcategories" [value]="option.name">{{ option.name }}
                    </mdb-select-option>
                </mdb-select-2>
            </div>

            <div class="dropdown" mdbDropdown>

                <button mdbDropdownToggle mdbBtn class="dropdown-toggle waves-light" type="button" mdbWavesEffect>
                    <i class="fas fa-sort-amount-up-alt"></i>
                    מיון
                </button>

                <div class="dropdown-menu  lime accent-3 text-right">
                    <a class="dropdown-item" (click)="sort('plus', 'price')"><i class="fas fa-arrow-up"></i>&nbsp; מחיר
                        מהנמוך לגבוה</a>
                    <a class="dropdown-item" (click)="sort('minus' , 'price')"><i class="fas fa-arrow-down"></i>&nbsp;
                        מחיר מהגבוה לנמוך</a>
                    <a class="dropdown-item" (click)="sort('plus' , 'name')"><i class="fas fa-arrow-up"></i>&nbsp; שם
                        המוצר בסדר עולה</a>
                    <a class="dropdown-item" (click)="sort('minus' , 'name')"><i class="fas fa-arrow-down"></i>&nbsp; שם
                        המוצר בסדר יורד</a>
                </div>
            </div>

        </div>

        <div fxLayout="row wrap" fxLayoutAlign="space-evenly center">
            <app-product [product]="product" *ngFor="let product of productsToShow"></app-product>
        </div>

    </div>

    <div *ngIf="serverError">
        <h2 class="text-center" style="margin-top: 50px; font-weight: 700;">אין גישה לשרת</h2>
    </div>

</div>